{"ast":null,"code":"import _slicedToArray from\"/Users/macbook/Documents/React/Project/test-deploy-2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import s from'./Search.module.css';import axios from'axios';import clearIcon from'../img/54972.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),musicData=_useState2[0],setMusicData=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),value=_useState4[0],setValue=_useState4[1];var API_KEY='YTkxZTRhNzAtODdlNy00ZjMzLTg0MWItOTc0NmZmNjU4Yzk4';var options={method:'GET',url:\"http://api.napster.com/v2.2/search/verbose?apikey=\".concat(API_KEY,\"&query=\").concat(value),params:{s:'daft_punk'}};var getMusic=function getMusic(){axios(options).then(function(response){setMusicData(response.data.search.data.tracks);console.log(musicData);});};useEffect(function(){getMusic();},[]);useEffect(function(){getMusic();},[options.url]);var clear=function clear(){setValue('');};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{className:s.searchBox,children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Search.....\",type:\"text\",value:value,onChange:function onChange(event){setValue(event.target.value);}}),/*#__PURE__*/_jsx(\"img\",{className:s.clearIcon,src:clearIcon,onClick:clear,alt:\"\"})]}),/*#__PURE__*/_jsx(\"div\",{className:s.musicBox,children:musicData.map(function(music){// const size = '356x237'\n// const extension = 'jpg'\nvar imgLink=\"https://api.napster.com/imageserver/v2/artists/\".concat(music.artistId,\"/images/230x153.jpg\");return/*#__PURE__*/_jsxs(\"div\",{className:s.musicContainer,children:[/*#__PURE__*/_jsx(\"h4\",{children:music.artistName}),/*#__PURE__*/_jsx(\"h3\",{children:music.name}),/*#__PURE__*/_jsx(\"img\",{src:imgLink,alt:\"\"}),/*#__PURE__*/_jsx(\"audio\",{className:s.player,controls:true,src:music.previewURL}),/*#__PURE__*/_jsx(\"div\",{})]});})})]});};export default Search;","map":{"version":3,"names":["React","useEffect","useState","s","axios","clearIcon","Search","props","musicData","setMusicData","value","setValue","API_KEY","options","method","url","params","getMusic","then","response","data","search","tracks","console","log","clear","searchBox","event","target","musicBox","map","music","imgLink","artistId","musicContainer","artistName","name","player","previewURL"],"sources":["/Users/macbook/Documents/React/Project/test-deploy-2/src/Components/Search.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport s from './Search.module.css'\nimport axios from 'axios';\nimport clearIcon from '../img/54972.png'\n\nconst Search = (props) => {\n    const [musicData, setMusicData] = useState([])\n    const [value, setValue] = useState('')\n\n    const API_KEY = 'YTkxZTRhNzAtODdlNy00ZjMzLTg0MWItOTc0NmZmNjU4Yzk4'\n    const options = {\n        method: 'GET',\n        url: `http://api.napster.com/v2.2/search/verbose?apikey=${API_KEY}&query=${value}`,\n        params: { s: 'daft_punk' },\n    }\n    const getMusic = () => {\n        axios(options).then(response => {\n            setMusicData(response.data.search.data.tracks)\n            console.log(musicData)\n        })\n    }\n    useEffect(() => {\n        getMusic()\n    }, [])\n    useEffect(() => {\n        getMusic()\n    }, [options.url])\n\n\n    const clear = () => {\n        setValue('')\n    }\n\n    return (\n\n        <div>\n            <form className={s.searchBox}>\n                <input\n                    placeholder='Search.....'\n                    type=\"text\"\n                    value={value}\n                    onChange={(event) => { setValue(event.target.value) }}\n                />\n                <img className={s.clearIcon} src={clearIcon} onClick={clear} alt=\"\" />\n\n            </form>\n            <div className={s.musicBox}>\n                {\n                    musicData.map(music => {\n                        // const size = '356x237'\n                        // const extension = 'jpg'\n                        const imgLink = `https://api.napster.com/imageserver/v2/artists/${music.artistId}/images/230x153.jpg`\n\n                        return (\n                            <div\n                                className={s.musicContainer}>\n                                <h4>{music.artistName}</h4>\n                                <h3>{music.name}</h3>\n                                <img src={imgLink} alt=\"\" />\n\n                                <audio className={s.player}\n                                    controls\n                                    src={music.previewURL}></audio>\n                                <div>\n\n                                </div>\n                            </div>\n                        )\n                    })\n                }\n            </div>\n\n        </div>\n    )\n};\nexport default Search"],"mappings":"0IAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAOC,EAAC,KAAM,qBAAqB,CACnC,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAOC,UAAS,KAAM,kBAAkB,yFAExC,GAAMC,OAAM,CAAG,QAATA,OAAM,CAAIC,KAAK,CAAK,CACtB,cAAkCL,QAAQ,CAAC,EAAE,CAAC,wCAAvCM,SAAS,eAAEC,YAAY,eAC9B,eAA0BP,QAAQ,CAAC,EAAE,CAAC,yCAA/BQ,KAAK,eAAEC,QAAQ,eAEtB,GAAMC,QAAO,CAAG,kDAAkD,CAClE,GAAMC,QAAO,CAAG,CACZC,MAAM,CAAE,KAAK,CACbC,GAAG,6DAAuDH,OAAO,mBAAUF,KAAK,CAAE,CAClFM,MAAM,CAAE,CAAEb,CAAC,CAAE,WAAY,CAC7B,CAAC,CACD,GAAMc,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACnBb,KAAK,CAACS,OAAO,CAAC,CAACK,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAC5BV,YAAY,CAACU,QAAQ,CAACC,IAAI,CAACC,MAAM,CAACD,IAAI,CAACE,MAAM,CAAC,CAC9CC,OAAO,CAACC,GAAG,CAAChB,SAAS,CAAC,CAC1B,CAAC,CAAC,CACN,CAAC,CACDP,SAAS,CAAC,UAAM,CACZgB,QAAQ,EAAE,CACd,CAAC,CAAE,EAAE,CAAC,CACNhB,SAAS,CAAC,UAAM,CACZgB,QAAQ,EAAE,CACd,CAAC,CAAE,CAACJ,OAAO,CAACE,GAAG,CAAC,CAAC,CAGjB,GAAMU,MAAK,CAAG,QAARA,MAAK,EAAS,CAChBd,QAAQ,CAAC,EAAE,CAAC,CAChB,CAAC,CAED,mBAEI,oCACI,cAAM,SAAS,CAAER,CAAC,CAACuB,SAAU,wBACzB,cACI,WAAW,CAAC,aAAa,CACzB,IAAI,CAAC,MAAM,CACX,KAAK,CAAEhB,KAAM,CACb,QAAQ,CAAE,kBAACiB,KAAK,CAAK,CAAEhB,QAAQ,CAACgB,KAAK,CAACC,MAAM,CAAClB,KAAK,CAAC,CAAC,CAAE,EACxD,cACF,YAAK,SAAS,CAAEP,CAAC,CAACE,SAAU,CAAC,GAAG,CAAEA,SAAU,CAAC,OAAO,CAAEoB,KAAM,CAAC,GAAG,CAAC,EAAE,EAAG,GAEnE,cACP,YAAK,SAAS,CAAEtB,CAAC,CAAC0B,QAAS,UAEnBrB,SAAS,CAACsB,GAAG,CAAC,SAAAC,KAAK,CAAI,CACnB;AACA;AACA,GAAMC,QAAO,0DAAqDD,KAAK,CAACE,QAAQ,uBAAqB,CAErG,mBACI,aACI,SAAS,CAAE9B,CAAC,CAAC+B,cAAe,wBAC5B,oBAAKH,KAAK,CAACI,UAAU,EAAM,cAC3B,oBAAKJ,KAAK,CAACK,IAAI,EAAM,cACrB,YAAK,GAAG,CAAEJ,OAAQ,CAAC,GAAG,CAAC,EAAE,EAAG,cAE5B,cAAO,SAAS,CAAE7B,CAAC,CAACkC,MAAO,CACvB,QAAQ,MACR,GAAG,CAAEN,KAAK,CAACO,UAAW,EAAS,cACnC,cAEM,GACJ,CAEd,CAAC,CAAC,EAEJ,GAEJ,CAEd,CAAC,CACD,cAAehC,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}